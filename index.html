<!DOCTYPE html>
<html>
<head>
	<title>Calculator</title>
	<link rel="stylesheet" type="text/css" href="styles/style.css">
	<script type="text/javascript">
		function cleanInput () {
			document.getElementById("form").reset();
        }
        function numClicked (number) {
        	var oldValue = document.getElementById("input").value;
        	var lastPressedButton = oldValue[oldValue.length-1];
        	if(oldValue==0 && number!="plus" && number!="minus" && number!="multiplied" && number!="divided"
        			&& number!="right" && number!="left"){
        		newValue = number;
        	}else {
        		if(number=="plus" || number=="minus" || number=="multiplied" || number=="divided"
        			|| number=="right" || number=="left"){
        			if(!(lastPressedButton=="+" || lastPressedButton=="-"
        			 || lastPressedButton=="/" || lastPressedButton=="*")){
        			 	if(number=="plus"){
        			 		var newValue = oldValue+"+";
        			 	}
						else if(number=="minus"){
							var newValue = oldValue+"-";
						}
						else if(number=="multiplied"){
							var newValue = oldValue+"*";
						}
						else if(number=="divided"){
							var newValue = oldValue+"/";
						}
						else if(number=="right"){
							var newValue = oldValue+"(";
						}
						else if(number=="left"){
							var newValue = oldValue+")";
						}
        			}else {
        				newValue = oldValue;
        			}
        		}
        		else{
        			var newValue = oldValue+number;
        		}
        	}
        	var input = document.getElementById("input");
			input.value = newValue;
        }

        function equal() {
        	var inputValue = document.getElementById("input").value;
        	var newValue = eval(inputValue);
   			var input = document.getElementById("input");
			input.value = newValue;
        }

        function backspace() {
        	var inputValue = document.getElementById("input").value;
        	if(inputValue.length==1){
        		input.value = 0;
        	}
        	else {
        		var newString = inputValue.substring(0, inputValue.length - 1);
        		input.value = newString;
        	}
        }
	</script>
</head>
<body>
	<div id="wrap">
		<div id="calculator">
			<table>
				<tr>
					<td colspan="4">
						<form id="form">
							<input type="text" value="0" id="input" />
						</form>
					</td>
				</tr>
				<tr>
					<td>
						<button onclick="numClicked(1);">1</button>
					</td>
					<td>
						<button onclick="numClicked(2);">2</button>
					</td>
					<td>
						<button onclick="numClicked(3);">3</button>
					</td>
					<td>
						<button onclick="numClicked('plus');">+</button>
					</td>
				</tr>	
				<tr>
					<td>
						<button onclick="numClicked(4);">4</button>
					</td>
					<td>
						<button onclick="numClicked(5);">5</button>
					</td>
					<td>
						<button onclick="numClicked(6);">6</button>
					</td>
					<td>
						<button onclick="numClicked('minus');">-</button>
					</td>
				</tr>
				<tr>
					<td>
						<button onclick="numClicked(7);">7</button>
					</td>
					<td>
						<button onclick="numClicked(8);">8</button>
					</td>
					<td>
						<button onclick="numClicked(9);">9</button>
					</td>
					<td>
						<button onclick="numClicked('multiplied');">*</button>
					</td>
				</tr>
				<tr>
					<td>
						<button onclick="cleanInput();">C</button>
					</td>
					<td>
						<button onclick="numClicked(0);">0</button>
					</td>
					<td>
						<button  onclick="equal();">=</button>
					</td>
					<td>
						<button  onclick="numClicked('divided');">/</button>
					</td>
				</tr>
				<tr>
					<td>
						<button onclick="numClicked('right');">(</button>
					</td>
					<td>
						<button onclick="numClicked('left');">)</button>
					</td>
					<td colspan="2">
						<button onclick="backspace();">backspace</button>
					</td>
				</tr>
			</table>
		</div>
	</div>
</body>
</html>